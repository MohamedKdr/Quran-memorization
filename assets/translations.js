const translations = {
    ar: {
        // Navigation
        nav: {
            home: 'صفحة الحفظ',
            sessions: 'الجلسات السابقة',
            virtues: 'فضل الحفظ',
            settings: 'الإعدادات'
        },
        // Main Page
        main: {
            title: 'حفظ القرآن',
            inputLabel: 'النص المراد حفظه',
            inputPlaceholder: 'أدخل النص هنا...',
            sectionsLabel: 'عدد الأقسام',
            repeatsLabel: 'عدد التكرارات',
            startButton: 'بدء الحفظ',
            finalSection: 'التكرار النهائي',
            remainingRepeats: 'التكرارات المتبقية',
            repeatFullText: 'كرر النص كاملاً',
            congrats: 'مبروك! لقد أكملت الحفظ',
            totalTime: 'الوقت المستغرق',
            newSession: 'بدء جديد'
        },
        // Sessions Page
        sessions: {
            title: 'سجل الجلسات',
            totalTime: 'إجمالي الوقت',
            totalSessions: 'عدد الجلسات',
            avgTime: 'متوسط الوقت',
            date: 'التاريخ',
            time: 'الوقت المستغرق',
            sections: 'عدد الأقسام',
            repeats: 'عدد التكرارات',
            actions: 'الإجراءات',
            load: 'تحميل',
            delete: 'حذف',
            deleteConfirm: 'هل أنت متأكد من حذف هذه الجلسة؟'
        },
        // Virtues Page
        virtues: {
            title: 'فضل حفظ القرآن الكريم',
            highRank: 'الدرجة العالية في الجنة',
            honor: 'التكريم في الدنيا والآخرة',
            intercession: 'شفاعة القرآن',
            multipliedReward: 'الأجر المضاعف'
        },
        // Settings Page
        settings: {
            title: 'الإعدادات',
            language: 'اللغة',
            theme: 'المظهر',
            sound: 'الصوت',
            notifications: 'الإشعارات',
            lightMode: 'فاتح',
            darkMode: 'داكن',
            enableSound: 'تفعيل الأصوات',
            enableNotifications: 'تفعيل الإشعارات',
            saveSettings: 'حفظ الإعدادات',
            settingsSaved: 'تم حفظ الإعدادات بنجاح'
        },
        // Footer
        footer: {
            copyright: '© 2024 حفظ القرآن. جميع الحقوق محفوظة'
        }
    },
    en: {
        // Navigation
        nav: {
            home: 'Memorization',
            sessions: 'Previous Sessions',
            virtues: 'Virtues',
            settings: 'Settings'
        },
        // Main Page
        main: {
            title: 'Quran Memorization',
            inputLabel: 'Text to Memorize',
            inputPlaceholder: 'Enter text here...',
            sectionsLabel: 'Number of Sections',
            repeatsLabel: 'Number of Repetitions',
            startButton: 'Start Memorization',
            finalSection: 'Final Repetition',
            remainingRepeats: 'Remaining Repetitions',
            repeatFullText: 'Repeat Full Text',
            congrats: 'Congratulations! You have completed the memorization',
            totalTime: 'Total Time',
            newSession: 'New Session'
        },
        // Sessions Page
        sessions: {
            title: 'Session History',
            totalTime: 'Total Time',
            totalSessions: 'Total Sessions',
            avgTime: 'Average Time',
            date: 'Date',
            time: 'Time Spent',
            sections: 'Sections',
            repeats: 'Repetitions',
            actions: 'Actions',
            load: 'Load',
            delete: 'Delete',
            deleteConfirm: 'Are you sure you want to delete this session?'
        },
        // Virtues Page
        virtues: {
            title: 'Virtues of Quran Memorization',
            highRank: 'High Rank in Paradise',
            honor: 'Honor in this World and Hereafter',
            intercession: 'Intercession of the Quran',
            multipliedReward: 'Multiplied Reward'
        },
        // Settings Page
        settings: {
            title: 'Settings',
            language: 'Language',
            theme: 'Theme',
            sound: 'Sound',
            notifications: 'Notifications',
            lightMode: 'Light',
            darkMode: 'Dark',
            enableSound: 'Enable Sound',
            enableNotifications: 'Enable Notifications',
            saveSettings: 'Save Settings',
            settingsSaved: 'Settings saved successfully'
        },
        // Footer
        footer: {
            copyright: '© 2024 Quran Memorization. All rights reserved'
        }
    },
    fr: {
        // Navigation
        nav: {
            home: 'Mémorisation',
            sessions: 'Sessions Précédentes',
            virtues: 'Vertus',
            settings: 'Paramètres'
        },
        // Main Page
        main: {
            title: 'Mémorisation du Coran',
            inputLabel: 'Texte à Mémoriser',
            inputPlaceholder: 'Entrez le texte ici...',
            sectionsLabel: 'Nombre de Sections',
            repeatsLabel: 'Nombre de Répétitions',
            startButton: 'Commencer la Mémorisation',
            finalSection: 'Répétition Finale',
            remainingRepeats: 'Répétitions Restantes',
            repeatFullText: 'Répéter le Texte Complet',
            congrats: 'Félicitations ! Vous avez terminé la mémorisation',
            totalTime: 'Temps Total',
            newSession: 'Nouvelle Session'
        },
        // Sessions Page
        sessions: {
            title: 'Historique des Sessions',
            totalTime: 'Temps Total',
            totalSessions: 'Total des Sessions',
            avgTime: 'Temps Moyen',
            date: 'Date',
            time: 'Temps Passé',
            sections: 'Sections',
            repeats: 'Répétitions',
            actions: 'Actions',
            load: 'Charger',
            delete: 'Supprimer',
            deleteConfirm: 'Êtes-vous sûr de vouloir supprimer cette session ?'
        },
        // Virtues Page
        virtues: {
            title: 'Vertus de la Mémorisation du Coran',
            highRank: 'Rang Élevé au Paradis',
            honor: 'Honneur dans ce Monde et l\'Au-delà',
            intercession: 'Intercession du Coran',
            multipliedReward: 'Récompense Multipliée'
        },
        // Settings Page
        settings: {
            title: 'Paramètres',
            language: 'Langue',
            theme: 'Thème',
            sound: 'Son',
            notifications: 'Notifications',
            lightMode: 'Clair',
            darkMode: 'Sombre',
            enableSound: 'Activer le Son',
            enableNotifications: 'Activer les Notifications',
            saveSettings: 'Enregistrer les Paramètres',
            settingsSaved: 'Paramètres enregistrés avec succès'
        },
        // Footer
        footer: {
            copyright: '© 2024 Mémorisation du Coran. Tous droits réservés'
        }
    }
};

// Function to get translation
function getTranslation(key, language = 'ar') {
    const keys = key.split('.');
    let value = translations[language];
    
    for (const k of keys) {
        if (value && value[k]) {
            value = value[k];
        } else {
            return key; // Return the key if translation not found
        }
    }
    
    return value;
}

// Function to update all text content based on language
function updateLanguage(language) {
    document.documentElement.lang = language;
    document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = getTranslation(key, language);
    });
    
    // Update all elements with data-i18n-placeholder attribute
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = getTranslation(key, language);
    });
} 